
CREATE TABLE CUSTOMER (
    ID SERIAL PRIMARY KEY,
    Surname VARCHAR(50) NOT NULL,
    Name VARCHAR(50) NOT NULL,
    Email VARCHAR(100) NOT NULL,
    PhoneNumber VARCHAR(20)
);


CREATE TABLE "ORDER" (
    OrderNumber SERIAL PRIMARY KEY,
    IDCustomer INT NOT NULL,
    TotalCost DECIMAL(10,2) NOT NULL,
    PurchaseDate DATE NOT NULL,
    ExpectedDelivery DATE,
    ActualDelivery DATE,
    Address VARCHAR(255),
    FOREIGN KEY (IDCustomer) REFERENCES CUSTOMER(ID)
);


CREATE TABLE "RETURN" (
    IDOrder INT PRIMARY KEY,
    Approved BOOLEAN,
    Refunded BOOLEAN NOT NULL,
    FOREIGN KEY (IDOrder) REFERENCES "ORDER"(OrderNumber)
);


CREATE TABLE SECTOR (
    Code CHAR(1) PRIMARY KEY,
    Name VARCHAR(50) NOT NULL,
    Manager VARCHAR(50),
    Location VARCHAR(50),
    HeadTechnician VARCHAR(50)
);


CREATE TABLE PRODUCT (
    Code SERIAL PRIMARY KEY,
    SectorCode CHAR(1) NOT NULL,
    Type VARCHAR(50) NOT NULL,
    Brand VARCHAR(50),
    Description VARCHAR(255),
    FOREIGN KEY (SectorCode) REFERENCES SECTOR(Code)
);


CREATE TABLE UNIT (
    SerialNumber SERIAL PRIMARY KEY,
    Product INT NOT NULL,
    Price DECIMAL(10,2) NOT NULL,
    ExpirationDate DATE NOT NULL,
    Condition VARCHAR(50) NOT NULL,
    IDOrder INT,
    FOREIGN KEY (Product) REFERENCES PRODUCT(Code),
    FOREIGN KEY (IDOrder) REFERENCES "ORDER"(OrderNumber)
);
